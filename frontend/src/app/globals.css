@tailwind base;
@tailwind components;
@tailwind utilities;

/* Tailwind v3: o variant 'dark' já é suportado via classe .dark */

/* ===================== */
/* TOKENS – MODO CLARO   */
/* ===================== */
:root {
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);

  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);

  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);

  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);

  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);

  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);

  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);

  --destructive: oklch(0.577 0.245 27.325);
  --destructive-foreground: oklch(0.577 0.245 27.325);

  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);

  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);

  --radius: 0.625rem;

  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

/* ===================== */
/* TOKENS – MODO ESCURO  */
/* ===================== */
.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);

  --card: oklch(0.145 0 0);
  --card-foreground: oklch(0.985 0 0);

  --popover: oklch(0.145 0 0);
  --popover-foreground: oklch(0.985 0 0);

  --primary: oklch(0.985 0 0);
  --primary-foreground: oklch(0.205 0 0);

  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);

  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);

  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);

  --destructive: oklch(0.396 0.141 25.723);
  --destructive-foreground: oklch(0.637 0.237 25.331);

  --border: oklch(0.269 0 0);
  --input: oklch(0.269 0 0);
  --ring: oklch(0.439 0 0);

  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);

  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(0.269 0 0);
  --sidebar-ring: oklch(0.439 0 0);
}

/* O mapeamento de variáveis para Tailwind está no tailwind.config.ts (extend.colors etc). */

/* ===== Base ===== */
@layer base {
  /* Removido outline-ring/50 (não existe em Tailwind v3) */
  * { @apply border-border; }
  body { @apply bg-background text-foreground; }
}

/* ===== Utilities extras (FORA do @theme) ===== */
@layer utilities {
  /* Ícones com gradiente da marca + glow no hover/focus */
  .icon-gradient {
    background: linear-gradient(90deg, #2BB1E8 0%, #4D58F0 50%, #A63F8E 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    transition: all 0.3s ease;
  }
  .icon-glow:hover,
  .icon-glow:focus-visible {
    filter:
      drop-shadow(0 0 10px rgba(77, 88, 240, 0.6))
      drop-shadow(0 0 20px rgba(166, 63, 142, 0.4));
    transform: scale(1.15);
  }
  /* (correção) remover bloco aninhado duplicado */
  /* Glow azul->roxo reutilizável (para inputs, cards, imagens, botões) */
  .glow-brand {
    transition: transform .25s ease, filter .25s ease, box-shadow .25s ease;
  }
  .glow-brand:hover,
  .glow-brand:focus,
  .glow-brand:focus-visible,
  .glow-brand:focus-within {
    transform: translateZ(0) scale(1.03);
    filter:
      drop-shadow(0 0 10px rgba(77,88,240,.45))
      drop-shadow(0 0 18px rgba(166,63,142,.35));
  }

  /* Borda/anel sutil – ótimo para Input e Cards */
  .ring-brand {
    box-shadow: 0 0 0 1px hsl(var(--border));
  }
  .ring-brand:hover,
  .ring-brand:focus,
  .ring-brand:focus-within {
    box-shadow:
      0 0 0 1px rgba(77,88,240,.45),
      0 0 0 4px rgba(77,88,240,.15),
      0 0 18px rgba(166,63,142,.25);
  }

  /* Glow “soft” atrás do card/imagem (via pseudo-elemento) */
  .card-glow {
    position: relative;
    isolation: isolate;
    transition: transform .25s ease;
  }
  .card-glow::after {
    content: "";
    position: absolute;
    inset: -10%;
    z-index: -1;
    border-radius: 24px;
    background: radial-gradient(60% 60% at 50% 40%,
      rgba(77,88,240,.25), rgba(166,63,142,.18) 60%, transparent 70%);
    opacity: 0;
    filter: blur(18px);
    transition: opacity .25s ease;
  }
  .card-glow:hover::after,
  .card-glow:focus-within::after {
    opacity: 1;
  }

  /* Borda gradiente sutil (opcional para botões/contêineres) */
  .border-gradient {
    position: relative;
    border: 1px solid transparent;
    background:
      linear-gradient(var(--background), var(--background)) padding-box,
      linear-gradient(90deg,#2BB1E8,#4D58F0,#A63F8E) border-box;
  }
}
