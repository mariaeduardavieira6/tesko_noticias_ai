@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===================== */
/* TOKENS – MODO CLARO   */
/* ===================== */
:root {
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);

  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);

  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);

  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);

  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);

  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);

  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);

  --destructive: oklch(0.577 0.245 27.325);
  --destructive-foreground: oklch(0.577 0.245 27.325);

  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);

  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);

  --radius: 0.625rem;

  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);

  /* cor usada no halo/ring do hover do card */
  --ring-brand: oklch(0.72 0.14 270);
}

/* ===================== */
/* TOKENS – MODO ESCURO  */
/* ===================== */
.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);

  --card: oklch(0.145 0 0);
  --card-foreground: oklch(0.985 0 0);

  --popover: oklch(0.145 0 0);
  --popover-foreground: oklch(0.985 0 0);

  --primary: oklch(0.985 0 0);
  --primary-foreground: oklch(0.205 0 0);

  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);

  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);

  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);

  --destructive: oklch(0.396 0.141 25.723);
  --destructive-foreground: oklch(0.637 0.237 25.331);

  --border: oklch(0.269 0 0);
  --input: oklch(0.269 0 0);
  --ring: oklch(0.439 0 0);

  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);

  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(0.269 0 0);
  --sidebar-ring: oklch(0.439 0 0);
}

/* ===== Base ===== */
@layer base {
  * { @apply border-border; }
  body { @apply bg-background text-foreground; }
}

/* ===== Utilities ===== */
@layer utilities {
  /* Ícone com gradiente e glow no próprio hover do ícone */
  .icon-gradient {
    background: linear-gradient(90deg, #2BB1E8 0%, #4D58F0 50%, #A63F8E 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    transition: all .3s ease;
  }
  .icon-glow:hover,
  .icon-glow:focus-visible {
    filter:
      drop-shadow(0 0 10px rgba(77,88,240,.6))
      drop-shadow(0 0 20px rgba(166,63,142,.4));
    transform: scale(1.15);
  }

  /* Glow leve reutilizável (para botões/inputs) */
  .glow-brand { transition: transform .25s ease, filter .25s ease, box-shadow .25s ease; }
  .glow-brand:hover,
  .glow-brand:focus,
  .glow-brand:focus-visible,
  .glow-brand:focus-within {
    transform: translateZ(0) scale(1.03);
    filter:
      drop-shadow(0 0 10px rgba(77,88,240,.45))
      drop-shadow(0 0 18px rgba(166,63,142,.35));
  }

  /* “Ring” sutil ao focar/hover */
  .ring-brand { box-shadow: 0 0 0 1px var(--border); }
  .ring-brand:hover,
  .ring-brand:focus,
  .ring-brand:focus-within {
    box-shadow:
      0 0 0 1px var(--ring-brand),
      0 0 0 4px color-mix(in oklab, var(--ring-brand) 30%, transparent),
      0 0 18px color-mix(in oklab, var(--ring-brand) 35%, transparent);
  }

  /* Fundo “glow” padrão dos cards (HOME/Default) */
  .glow-card { position: relative; border-radius: 1rem; background: var(--card); }
  .glow-card > * { position: relative; z-index: 1; }
  .glow-card::before{
    content:""; position:absolute; inset:-10px; border-radius:inherit; pointer-events:none; z-index:0;
    background: conic-gradient(from 0deg,#2BB1E8,#4D58F0,#A63F8E,#2BB1E8);
    filter: blur(26px); opacity:.60; transition: opacity .18s ease, filter .18s ease, transform .18s ease;
  }
  .glow-card:hover::before{ opacity:.78; filter: blur(30px); }
  .dark .glow-card::before{ opacity:.90; filter: blur(22px); }
  .glow-card:hover{
    box-shadow:
      0 0 0 1px var(--ring-brand),
      0 0 0 6px color-mix(in oklab, var(--ring-brand) 22%, transparent),
      0 18px 38px color-mix(in oklab, var(--ring-brand) 22%, transparent);
  }

  /* Fade inferior na imagem para legibilidade do título */
  .card-image-fade {
    position: absolute;
    inset: auto 0 0 0;
    height: 58%;
    pointer-events: none;
    background: linear-gradient(
      180deg,
      rgba(0,0,0,0) 0%,
      rgba(0,0,0,0.32) 30%,
      rgba(0,0,0,0.80) 100%
    );
  }

  /* Itens que brilham quando o card é hover/hover-within */
  .on-card-hover-glow {
    transition: transform .25s ease, filter .25s ease, opacity .25s ease;
    opacity: .92;
  }
  .group:hover .on-card-hover-glow,
  .group:focus-within .on-card-hover-glow {
    filter:
      drop-shadow(0 0 10px rgba(77,88,240,.60))
      drop-shadow(0 0 20px rgba(166,63,142,.40));
    transform: scale(1.12);
    opacity: 1;
  }

  /* Halo/ring do CARD no hover global */
  .on-card-hover-ring { transition: box-shadow .25s ease, transform .25s ease, filter .25s ease; }
  .group:hover.on-card-hover-ring,
  .group:focus-within.on-card-hover-ring {
    box-shadow:
      0 0 0 1px rgba(77,88,240,.45),
      0 0 0 4px rgba(77,88,240,.15),
      0 0 18px rgba(166,63,142,.25);
    transform: translateZ(0) scale(1.03);
    filter:
      drop-shadow(0 0 10px rgba(77,88,240,.45))
      drop-shadow(0 0 18px rgba(166,63,142,.35));
  }

  /* ===================== Skeleton com shimmer ===================== */
  @keyframes skeleton-shimmer { 100% { transform: translateX(100%); } }

  .skeleton-block {
    @apply relative h-full w-full rounded-xl;
    background: color-mix(in oklab, var(--muted) 70%, black 0%);
  }
  .dark .skeleton-block { background: color-mix(in oklab, var(--muted) 38%, white 0%); }
  .skeleton-block::after {
    content: "";
    position: absolute; inset: 0;
    transform: translateX(-100%);
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.06), transparent);
    animation: skeleton-shimmer 1.2s infinite;
  }

  .skeleton-line { @apply relative rounded; background: color-mix(in oklab, var(--muted) 72%, black 0%); }
  .dark .skeleton-line { background: color-mix(in oklab, var(--muted) 45%, white 0%); }
  .skeleton-line::after {
    content: "";
    position: absolute; inset: 0;
    transform: translateX(-100%);
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.06), transparent);
    animation: skeleton-shimmer 1.2s infinite;
  }

  .skeleton-dot { @apply h-1.5 w-1.5 rounded-full; background: color-mix(in oklab, var(--muted-foreground) 70%, black 0%); }

  .skeleton-circle { @apply relative rounded-full; background: color-mix(in oklab, var(--muted) 72%, black 0%); }
  .dark .skeleton-circle { background: color-mix(in oklab, var(--muted) 45%, white 0%); }
  .skeleton-circle::after {
    content: "";
    position: absolute; inset: 0;
    transform: translateX(-100%);
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.06), transparent);
    animation: skeleton-shimmer 1.2s infinite;
  }

  /* Badge reage ao hover do CARD (wrapper .group) */
  .on-card-hover-badge {
    will-change: transform, filter, box-shadow, background;
    transition: transform .25s ease, filter .25s ease, box-shadow .25s ease, background .25s ease, color .25s ease;
  }
  .group:hover .on-card-hover-badge,
  .group:focus-within .on-card-hover-badge {
    color: #fff !important;
    background: linear-gradient(90deg,#2BB1E8 0%,#4D58F0 55%,#A63F8E 100%) !important;
    box-shadow:
      0 0 0 1px rgba(77,88,240,.45),
      0 6px 20px -6px rgba(77,88,240,.35),
      0 10px 26px -10px rgba(166,63,142,.30);
    filter:
      drop-shadow(0 0 8px rgba(77,88,240,.45))
      drop-shadow(0 0 14px rgba(166,63,142,.35));
    transform: translateZ(0) scale(1.04);
  }

  /* =====================  HOVER DO TÍTULO  ===================== */
  .on-card-hover-title { transition: color .25s ease, background .25s ease; color: inherit; }
  /* Gradiente do título APENAS no tema escuro */
  .dark .group:hover .on-card-hover-title,
  .dark .group:focus-within .on-card-hover-title {
    color: transparent !important;
    -webkit-background-clip: text;
    background-clip: text;
    background-image: linear-gradient(90deg, #2BB1E8 0%, #7C8CFF 46%, #A63F8E 100%);
  }
  /* Segurança: no LIGHT mantém cor normal */
  html:not(.dark) .group:hover h1,
  html:not(.dark) .group:hover h2,
  html:not(.dark) .group:hover h3 {
    color: var(--foreground) !important;
    background: none !important;
    -webkit-text-fill-color: currentColor !important;
  }

  /* =====================  VARIANTE: SEÇÃO "MAIS NOTÍCIAS"  ===================== */
  /* Envolva a grade com <section class="section-secondary"> ... */
  /* Mata COMPLETAMENTE o glow/aurora roxo nessa seção */
  .section-secondary .glow-card::before { content: none !important; }

  .section-secondary .card-body {
    background: var(--card) !important;
    backdrop-filter: none !important;
  }
  .section-secondary .on-card-hover-title,
  .section-secondary .group:hover .on-card-hover-title,
  .section-secondary .group:focus-within .on-card-hover-title{
    color: var(--foreground) !important;
    background: none !important;
    -webkit-text-fill-color: currentColor !important;
  }
  .section-secondary .on-card-hover-badge{
    background: var(--muted) !important;
    color: var(--muted-foreground) !important;
    box-shadow: none !important;
    filter: none !important;
    transform: none !important;
  }
  .section-secondary .card-image-fade{
    height: 42% !important;
    background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.22) 40%, rgba(0,0,0,.58) 100%) !important;
  }

  /* =====================  VARIANTE: NC-PLAIN (por card)  ===================== */
  /* NC-PLAIN: mata QUALQUER gradiente/aurora no card onde aplicada */
  .nc-plain.glow-card::before { content: none !important; }           /* sem glow externo */
  .nc-plain .card-body {
    background-color: var(--card) !important;                         /* fundo liso */
    background-image: none !important;
    backdrop-filter: none !important;
  }
  .nc-plain .card-body::before,
  .nc-plain .card-body::after { content: none !important; }           /* previne pseudo-els */

  /* badge neutra */
  .nc-plain .on-card-hover-badge {
    background: var(--muted) !important;
    color: var(--muted-foreground) !important;
    box-shadow: none !important;
    filter: none !important;
    transform: none !important;
  }

  /* tira “anel”/glow extra no hover */
  .nc-plain.group:hover.on-card-hover-ring,
  .nc-plain.group:focus-within.on-card-hover-ring {
    box-shadow: 0 0 0 1px var(--border) !important;
    transform: none !important;
    filter: none !important;
  }

  /* fade da imagem mais curto para não contaminar o texto */
  .nc-plain .card-image-fade {
    height: 36% !important;
    background: linear-gradient(180deg,
      rgba(0,0,0,0) 0%,
      rgba(0,0,0,.18) 40%,
      rgba(0,0,0,.50) 100%) !important;
  }
}

/* Imagem sempre preenchendo o container 16:9 */
.img-fill {
  position: absolute !important;
  inset: 0 !important;
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
}
@layer utilities {
  /* === Moldura neon responsiva (apenas no hover/focus-visible) === */
  .fx-neon {
    position: relative;
    border-radius: 1rem;                     /* combine com rounded-2xl */
    border: 1.5px solid transparent;
    background:
      linear-gradient(var(--card), var(--card)) padding-box,
      linear-gradient(135deg,#2BB1E8 0%,#7C8CFF 50%,#A63F8E 100%) border-box; /* borda gradiente */
    transition: transform .25s ease, box-shadow .25s ease;
    /* variáveis responsivas */
    --fx-blur: 10px;
    --fx-opacity: .60;
    --fx-scale: 1;
  }

  .fx-neon::before{
    content:"";
    position:absolute; inset:-12px; border-radius:inherit; z-index:-1;
    background:
      radial-gradient(40% 60% at 20% 0%, rgba(43,177,232,.35), transparent 60%),
      radial-gradient(55% 60% at 100% 100%, rgba(166,63,142,.28), transparent 60%),
      radial-gradient(50% 50% at 50% 50%, rgba(124,140,255,.25), transparent 60%);
    filter: blur(var(--fx-blur));
    opacity: var(--fx-opacity);
    transform: scale(var(--fx-scale));
    transition: filter .25s ease, opacity .25s ease, transform .25s ease;
    pointer-events: none;
  }

  /* ativa o efeito só quando tem mouse/foco */
  .fx-neon.hoverable:hover,
  .fx-neon.hoverable:focus-visible {
    transform: translateZ(0) scale(1.01);
    box-shadow:
      0 0 0 1px rgba(124,140,255,.28),
      0 18px 40px -12px rgba(124,140,255,.18);
  }
  .fx-neon.hoverable:hover::before,
  .fx-neon.hoverable:focus-visible::before {
    --fx-blur: 18px;
    --fx-opacity: .95;
    --fx-scale: 1.02;
  }

  /* Responsividade: intensifica em telas maiores */
  @media (min-width: 640px) {                 /* sm */
    .fx-neon { --fx-blur: 12px; --fx-opacity: .70; }
    .fx-neon.hoverable:hover::before,
    .fx-neon.hoverable:focus-visible::before { --fx-blur: 22px; }
  }
  @media (min-width: 1024px) {                /* lg */
    .fx-neon { --fx-blur: 14px; --fx-opacity: .75; }
    .fx-neon.hoverable:hover::before,
    .fx-neon.hoverable:focus-visible::before { --fx-blur: 28px; --fx-scale: 1.03; }
  }

  /* Acessibilidade: menos animação quando preferido */
  @media (prefers-reduced-motion: reduce) {
    .fx-neon, .fx-neon::before { transition: none; }
  }
}

